<div class="main_box" ng-class="{'input_shake_animate': input_shake_animate, 'chat_box': isChatBox}" ng-swipe-left="toggleChatBox()" ng-swipe-right="toggleChatBox()">
    <div ng-switch on="isChatBox">
        <div ng-switch-when="true">
            <div id="chat_box">
                <div id="chatlist">
                    <div ng-repeat="contentItem in msgInbox">
                        <div class="all" ng-class="{'me': contentItem.isMe, 'others': !contentItem.isMe}">
                            <div ng-if="!contentItem.isMe" class="info_box">
                                <div class="info_username">
                                    <span>{{contentItem.username}}</span>
                                </div>
                            </div>
                            <div class="content_box">
                                <pre>{{contentItem.msg}}</pre>
                            </div>

                        </div>
                    </div>
                </div>
            </div>            
        </div>
        <div ng-switch-when="false">
            <div id="info_box">
                <div ng-if="!isNews">
                    <div id="info_username_box">
                        <h2>{{infoBox.username}}</h2>
                    </div>
                    <div id="info_numero_box">
                        <p>第 <span ng-class="getNumero()">{{infoBox.numero}}</span> 號用戶</p>
                    </div>
                    <div id="info_date_box">
                        <h3>加入於</h3>
                        <div class="date">
                            <span><a ng-click="getDateNews()">{{infoBox.date}}</a></span>
                        </div>
                        <div ng-class="getPartsOfADay()">
                            <span>{{infoBox.partsOfADay}}</span>
                        </div>
                    </div>
                </div>
                <div ng-if="isNews">
                    <div id="info_news_box">
                        <div ng-repeat="item in newsBox">
                            <div id="info_news_content_box">
                                <span>{{item.date | date: 'HH:mm'}}</span>
                                <a ng-href="{{item.url}}" target="_blank">{{item.title}}</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="quit" ng-if="!isNews">
                <a ng-click="quit()">註銷用戶</a>
            </div>
            <button ng-if="isNews" id="returnToPreviousStep" ng-click="toggleNewsBox()">
                ☜
            </button>
        </div>
    </div>
</div>
<div id="chat_submit_box" ng-show="isChatBox">
    <form sy-hide-keyboard novalidate ng-submit="emitTextMsg()" name="form">
        <input type="text" ng-model="msgOutbox.textMsg" sy-autofocus ng-maxlength="1024">
    </form>
</div>
<div class="main_box" ng-class="{'input_shake_animate': input_shake_animate, 'chat_box': isChatBox}" ng-swipe-left="toggleChatBox()" ng-swipe-right="toggleChatBox()">
    <div ng-switch on="isChatBox">
        <div ng-switch-when="true">
            <div id="chat_box">
                <div ng-repeat="contentItem in msgInbox">
                    <div class="all" ng-class="{'me': contentItem.isMe, 'others': !contentItem.isMe}">
                        <div ng-if="!contentItem.isMe" class="info_box">
                            <span>{{contentItem.username}}</span>
                        </div>
                        <div class="content_box">
                            <pre>{{contentItem.msg}}</pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div ng-switch-when="false">
            <div id="info_box">
                <div ng-if="!isNews">
                    <div id="info_username_box">
                        <h2>{{infoBox.username}}</h2>
                    </div>
                    <div id="info_numero_box">
                        <p>第 <span ng-class="getNumero()">{{infoBox.numero}}</span> 號用戶</p>
                    </div>
                    <div id="info_date_box">
                        <h3>加入於</h3>
                        <div class="date">
                            <span><a ng-click="getDateNews()">{{infoBox.date}}</a></span>
                        </div>
                        <div ng-class="getPartsOfADay()">
                            <span>{{infoBox.partsOfADay}}</span>
                        </div>
                    </div>
                </div>
                <div ng-if="isNews">
                    <h3>當日新聞</h3>
                    <div id="info_news_box">
                        <div ng-repeat="news in newsBox">
                            <div ng-repeat="item in news.news">
                                <div id="info_news_content_box">
                                    <span>{{item.date | date: 'HH:mm'}}</span>
                                    <a ng-href="{{item.url}}" target="_blank">{{item.title}}</a>
                                </div>
                            </div>
                        </div>
                        <div id="info_news_source">
                            <span>來源：{{newsSourceName}}</span>
                        </div> 
                        <div id="info_news_load_more" ng-hide="isNoMoreNews">
                            <span ng-click="getDateNews()">{{newsTips}}</span>
                        </div>
                    </div>
                </div>
            </div>
            <div id="quit" ng-if="!isNews">
                <a ng-click="quit()">註銷用戶</a>
            </div>
            <div id="quit" ng-if="isNews">
                <a ng-click="deleteNews()">刪除新聞</a>
            </div>
            <div ng-show="isNews" id="returnToPreviousStep" ng-click="toggleNewsBox()">
            </div>
        </div>
    </div>
</div>
<div ng-if="!isMobile" class="sunAndMoon" ng-class="{'sun': isSun, 'moon': !isSun}" ng-click="toggleChatBox()"> 
</div>
<div id="userCount">
    在線人數：{{userCount}}
</div>
<div id="chat_submit_box" ng-show="isChatBox">
    <form sy-hide-keyboard novalidate ng-submit="emitTextMsg()" name="form">
        <input type="text" ng-model="msgOutbox.textMsg" sy-autofocus ng-maxlength="1024">
    </form>
</div>